<!DOCTYPE html><html lang="ja"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"><link rel="stylesheet" href="../../styles/article.css"><script src="../../scripts/article.js" defer></script><meta charset="UTF-8"><meta name="generator" content="D-Blog"><meta name="theme-color" content="#0073ff"><meta name="creator" content="D-Techs Circle"><meta name="robots" content="noindex, nofollow"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1"><meta property="og:url" content="https://diverse-techs-circle.github.io/D-Blog/article/remember-viewport-mediaquery"><meta property="og:title" content="メディアクエリが効かないときはビューポートの指定忘れを疑え！"><meta property="og:site_name" content="D-Blog"><meta property="og:locale" content="ja_JP"><title>メディアクエリが効かないときはビューポートの指定忘れを疑え！ | D-Blog</title></head><body><div id="content"><section id="title-wrapper"><h1>メディアクエリが効かないときはビューポートの指定忘れを疑え！</h1></section><article><h3>TL;DR</h2><p>CSSは完璧なのにメディアクエリが効かない時、headタグに記述するViewportを書き忘れているかもしれません。</p><section class="codeblock"><div class="line"><div class="linenumber"><code>1</code></div><pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;</code></pre></div><div class="lang">html</div></section><h3>まずビューポートってなんやねん</h2><p>MDN公式のメディアクエリのページでは...</p><a class="linkcard" href="https://developer.mozilla.org/ja/docs/Web/CSS/Media_Queries/Using_media_queries" target="_blank" rel="noopener noreferrer"><p class="title">メディアクエリーの使用 - CSS: カスケーディングスタイルシート | MDN</p><p class="domain">developer.mozilla.org</p></a><p>「特定の特性 (画面の解像度や<b>ブラウザーのビューポートの幅など</b>) に応じてサイトやアプリを変更したいとき」に使うと書いてあります。</p><p>それでは、ビューポートって何者なんでしょう。</p><p>ブラウザは、液晶ではなく「ビューポート」という仮想的な範囲に対して描画した後、実際の画面に合うようなサイズでそれを描画します。</p><p>例えば、画面の幅を取得するとされている<code class="inline">document.documentElement.clientWidth</code>が返すのも、ビューポートの幅です。</p><h3>ビューポートが未指定だとどうなるの...？</h2><p>ビューポートが未指定だと、<b>実際の液晶サイズに関わらず一定の値</b>を返すようになります。</p><p>こうすることで、端末ごとの表示が統一され、スマホの表示はただPCの表示を縮小させただけのような表示になるのです。</p><p>然しこれは、今回のようにメディアクエリを付けたいときは問題が出てしまいます.</p><p><span style="font-size: 110%">だって横幅が小さくなってもビューポートの横幅は一定なんだもん。</span></p><h3>しっかりと指定しよう</h2><p>今まで呪文のように扱われていたかもしれませんが、これらの問題を改善するのがこいつだったのです。</p><section class="codeblock"><div class="line"><div class="linenumber"><code>1</code></div><pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;</code></pre></div><div class="lang">html</div></section><p>意味はまんまで、<code class="inline">viewport</code>の<code class="inline">width</code>を<code class="inline">device-width</code>にするよ...って感じですね。</p><p>Emmet(補完ツール)で出したHTMLの雛形にもついてきます。</p><p>今どきの開発をしていれば...これはよっぽどついてる...はずなんだけど...</p><h3>なんで忘れたの？</h2><p>実はこれ、まさにこれを書いてるD-Blogで起きた問題なんです。</p><p>GitHub上の.mdからHTMLを自動生成していたので、ついつい忘れてしまいました...</p><p>まぁ、こういうレアケースもあるよということでした！以上！閉廷！</p></article></div></body></html>